$.fn.select=function(e){let t={search:e.search||!1},s=$(document);$(this);let p=$(this).find("option"),r=$(this).attr("id"),a="",l=!1,c=()=>{$(".select-wrapper").removeClass("select-wrapper__opened"),$(".select-wrapper__dropdown").slideUp(200)};(()=>{p.each(function(){$(this).attr("selected")&&(a=$(this).text(),l=!0)}),a||(l=!1,a=$(this).attr("data-placeholder"))})();let i=$(`<div class="select-wrapper select-wrapper-${r}" data-select="${r}"></div>`),n=$('<div class="select-wrapper__selected"></div>'),d=$(`<span class="select-wrapper__selected-text ${l?"":"select-wrapper__placeholder"}">${a||"select option"}</span>`),o=$('<span class="select-wrapper__dropdown"></span>'),w=$('<div class="select-wrapper__dropdown-inner"></div>'),h=$('<div class="select-wrapper__search-wrapper"></div>'),f=$('<input type="text" class="select-wrapper__search" placeholder="search">'),v=$('<span class="select-wrapper__arrow"></span>'),u=$('<div class="select-wrapper__options"></div>');p.each(function(){let e=$(`<div class="select-wrapper__option" data-value="${$(this).attr("value")}">${$(this).text()}</div>`);u.append(e)});let g=$('<div class="select-wrapper__option select-wrapper__no-result hide">No result found</div>');u.append(g),n.append(d),n.append(v),i.append(n),i.append(o),o.append(w),t.search&&(h.append(f),w.append(h)),w.append(u),$(this).after(i),$(this).hide(),n.bind("click",function(e){$(this).closest(".select-wrapper").toggleClass("select-wrapper__opened").find(".select-wrapper__dropdown").slideToggle(200)}),u.find(".select-wrapper__option").bind("click",function(){let e=$(this).data("value"),t=$(this).text(),s=$(this).closest(".select-wrapper").data("select"),p=$(this).closest(".select-wrapper");$(`select[id="${s}"]`).val(e),p.toggleClass("select-wrapper__opened"),p.find(".select-wrapper__selected-text").text(t).removeClass("select-wrapper__placeholder"),p.find(".select-wrapper__dropdown").slideUp(200)}),f.bind("keyup",function(){let e=$(this).val().toLowerCase(),t=$(this).closest(".select-wrapper");if(""==e){t.find(".select-wrapper__option").show();return}t.find(".select-wrapper__option:not(.select-wrapper__no-result)").each(function(){$(this).text().toLowerCase().indexOf(e)>-1?$(this).show():$(this).hide()}),0==t.find(".select-wrapper__option:not(.select-wrapper__no-result):visible").length?t.find(".select-wrapper__no-result").removeClass("hide"):t.find(".select-wrapper__no-result").addClass("hide")}),s.bind("scroll",function(){c()}),s.bind("click",function(e){$(e.target).closest(".select-wrapper").length||c()})};